
> persiantoolbox@2.0.2 test:e2e /workspace/asdev-persiantoolbox
> playwright test

[1A[2K[2m[WebServer] [22m(node:28218) Warning: The 'NO_COLOR' env is ignored due to the 'FORCE_COLOR' env being set.
[2m[WebServer] [22m(Use `node --trace-warnings ...` to show where the warning was created)

[1A[2K[2m[WebServer] [22m(node:28245) Warning: The 'NO_COLOR' env is ignored due to the 'FORCE_COLOR' env being set.
[2m[WebServer] [22m(Use `node --trace-warnings ...` to show where the warning was created)


Running 94 tests using 2 workers

[1A[2K[1/94] [chromium] â€º tests/e2e/account-history-retry.spec.ts:17:7 â€º Retry scenarios for account/history flows â€º account page retries after transient auth/me failure
[1A[2K[2/94] [chromium] â€º tests/e2e/account-history-retry.spec.ts:73:7 â€º Retry scenarios for account/history flows â€º account history retries after transient API failure
[1A[2K[3/94] [chromium] â€º tests/e2e/account-history-retry.spec.ts:139:7 â€º Retry scenarios for account/history flows â€º date-tools recent history retries after transient API failure
[1A[2K[4/94] [chromium] â€º tests/e2e/admin-site-settings.spec.ts:18:7 â€º Admin site settings â€º loads current settings and validates invalid URL payload
[1A[2K[5/94] [chromium] â€º tests/e2e/admin-site-settings.spec.ts:56:7 â€º Admin site settings â€º saves settings and reflects links in footer
[1A[2K[6/94] [chromium] â€º tests/e2e/admin-site-settings.spec.ts:92:7 â€º Admin site settings â€º shows db-unavailable fallback guidance and disables save
[1A[2K[7/94] [chromium] â€º tests/e2e/consent-analytics.spec.ts:4:7 â€º Consent scenarios â€º ads surface is intentionally unavailable in no-login mode
[1A[2K[8/94] [chromium] â€º tests/e2e/a11y.spec.ts:51:7 â€º a11y serious/critical violations: /
[1A[2K[9/94] [chromium] â€º tests/e2e/consent-analytics.spec.ts:11:7 â€º Consent scenarios â€º home does not render ad consent controls or ad slots
[1A[2K[10/94] [chromium] â€º tests/e2e/a11y.spec.ts:51:7 â€º a11y serious/critical violations: /loan
[1A[2K[11/94] [chromium] â€º tests/e2e/flows-positive.spec.ts:28:7 â€º Happy-path flows â€º PDF merge accepts two files
[1A[2K[12/94] [chromium] â€º tests/e2e/a11y.spec.ts:51:7 â€º a11y serious/critical violations: /salary
[1A[2K[13/94] [chromium] â€º tests/e2e/flows-positive.spec.ts:41:7 â€º Happy-path flows â€º Image compress accepts upload file selection
[1A[2K  1) [chromium] â€º tests/e2e/a11y.spec.ts:51:7 â€º a11y serious/critical violations: /salary â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error: Serious/critical a11y issues on /salary

    [2mexpect([22m[31mreceived[39m[2m).[22mtoHaveLength[2m([22m[32mexpected[39m[2m)[22m

    Expected length: [32m0[39m
    Received length: [31m1[39m
    Received array:  [31m[{"description": "Ensures the contrast between foreground and background colors meets WCAG 2 AA minimum contrast ratio thresholds", "help": "Elements must meet minimum color contrast ratio thresholds", "helpUrl": "https://dequeuniversity.com/rules/axe/4.9/color-contrast?application=playwright", "id": "color-contrast", "impact": "serious", "nodes": [{"all": [], "any": [[Object]], "failureSummary": "Fix any of the following:[39m
    [31m  Element has insufficient color contrast of 1.27 (foreground color: #c1c4ca, background color: #c3e4d3, font size: 12.0pt (16px), font weight: bold). Expected contrast ratio of 4.5:1", "html": "<div class=\"font-bold mb-1\">Ø­Ù‚ÙˆÙ‚ Ù†Ø§Ø®Ø§Ù„Øµ Ø¨Ù‡ Ø®Ø§Ù„Øµ</div>", "impact": "serious", "none": [], "target": [".border-opacity-100 > .mb-1.font-bold"]}, {"all": [], "any": [[Object]], "failureSummary": "Fix any of the following:[39m
    [31m  Element has insufficient color contrast of 1.63 (foreground color: #c2c5cc, background color: #f7f9fc, font size: 12.0pt (16px), font weight: bold). Expected contrast ratio of 4.5:1", "html": "<div class=\"font-bold mb-1\">Ø­Ù‚ÙˆÙ‚ Ø®Ø§Ù„Øµ Ø¨Ù‡ Ù†Ø§Ø®Ø§Ù„Øµ</div>", "impact": "serious", "none": [], "target": [".hover\\:border-\\[var\\(--border-medium\\)\\].hover\\:bg-\\[var\\(--bg-subtle\\)\\].p-4:nth-child(2) > .mb-1.font-bold"]}, {"all": [], "any": [[Object]], "failureSummary": "Fix any of the following:[39m
    [31m  Element has insufficient color contrast of 1.63 (foreground color: #c2c5cc, background color: #f7f9fc, font size: 12.0pt (16px), font weight: bold). Expected contrast ratio of 4.5:1", "html": "<div class=\"font-bold mb-1\">Ø­Ø¯Ø§Ù‚Ù„ Ø¯Ø³ØªÙ…Ø²Ø¯</div>", "impact": "serious", "none": [], "target": [".hover\\:border-\\[var\\(--border-medium\\)\\].hover\\:bg-\\[var\\(--bg-subtle\\)\\].p-4:nth-child(3) > .mb-1.font-bold"]}, {"all": [], "any": [[Object]], "failureSummary": "Fix any of the following:[39m
    [31m  Element has insufficient color contrast of 1.63 (foreground color: #c2c5cc, background color: #f7f9fc, font size: 12.0pt (16px), font weight: normal). Expected contrast ratio of 4.5:1", "html": "<input id=\"salary-base\" class=\"input w-full px-4 py-3 bg-[var(--surface-1)] border border-[var(--border-light)] rounded-[var(--radius-md)] text-[var(--text-primary)] placeholder:text-[var(--text-muted)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] focus:border-[var(--color-primary)] transition-all duration-[var(--motion-fast)]Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·[39m
    [31m            ltr-num\" type=\"text\" dir=\"ltr\" inputmode=\"numeric\" value=\"15000000\">", "impact": "serious", "none": [], "target": ["#salary-base"]}, {"all": [], "any": [[Object]], "failureSummary": "Fix any of the following:[39m
    [31m  Element has insufficient color contrast of 1.63 (foreground color: #c2c5cc, background color: #f7f9fc, font size: 12.0pt (16px), font weight: normal). Expected contrast ratio of 4.5:1", "html": "<input id=\"salary-working-days\" class=\"input w-full px-4 py-3 bg-[var(--surface-1)] border border-[var(--border-light)] rounded-[var(--radius-md)] text-[var(--text-primary)] placeholder:text-[var(--text-muted)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] focus:border-[var(--color-primary)] transition-all duration-[var(--motion-fast)]Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·[39m
    [31m            ltr-num\" type=\"text\" dir=\"ltr\" inputmode=\"numeric\" value=\"30\">", "impact": "serious", "none": [], "target": ["#salary-working-days"]}, {"all": [], "any": [[Object]], "failureSummary": "Fix any of the following:[39m
    [31m  Element has insufficient color contrast of 1.63 (foreground color: #c2c5cc, background color: #f7f9fc, font size: 12.0pt (16px), font weight: normal). Expected contrast ratio of 4.5:1", "html": "<input id=\"salary-experience\" class=\"input w-full px-4 py-3 bg-[var(--surface-1)] border border-[var(--border-light)] rounded-[var(--radius-md)] text-[var(--text-primary)] placeholder:text-[var(--text-muted)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] focus:border-[var(--color-primary)] transition-all duration-[var(--motion-fast)]Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·[39m
    [31m            ltr-num\" type=\"text\" dir=\"ltr\" inputmode=\"numeric\" value=\"0\">", "impact": "serious", "none": [], "target": ["#salary-experience"]}, {"all": [], "any": [[Object]], "failureSummary": "Fix any of the following:[39m
    [31m  Element has insufficient color contrast of 1.63 (foreground color: #c2c5cc, background color: #f7f9fc, font size: 12.0pt (16px), font weight: normal). Expected contrast ratio of 4.5:1", "html": "<input id=\"salary-overtime\" class=\"input w-full px-4 py-3 bg-[var(--surface-1)] border border-[var(--border-light)] rounded-[var(--radius-md)] text-[var(--text-primary)] placeholder:text-[var(--text-muted)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] focus:border-[var(--color-primary)] transition-all duration-[var(--motion-fast)]Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·[39m
    [31m            ltr-num\" type=\"text\" dir=\"ltr\" inputmode=\"numeric\" value=\"0\">", "impact": "serious", "none": [], "target": ["#salary-overtime"]}, {"all": [], "any": [[Object]], "failureSummary": "Fix any of the following:[39m
    [31m  Element has insufficient color contrast of 1.63 (foreground color: #c2c5cc, background color: #f7f9fc, font size: 12.0pt (16px), font weight: normal). Expected contrast ratio of 4.5:1", "html": "<input id=\"salary-night-overtime\" class=\"input w-full px-4 py-3 bg-[var(--surface-1)] border border-[var(--border-light)] rounded-[var(--radius-md)] text-[var(--text-primary)] placeholder:text-[var(--text-muted)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] focus:border-[var(--color-primary)] transition-all duration-[var(--motion-fast)]Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·[39m
    [31m            ltr-num\" type=\"text\" dir=\"ltr\" inputmode=\"numeric\" value=\"0\">", "impact": "serious", "none": [], "target": ["#salary-night-overtime"]}, {"all": [], "any": [[Object]], "failureSummary": "Fix any of the following:[39m
    [31m  Element has insufficient color contrast of 1.63 (foreground color: #c2c5cc, background color: #f7f9fc, font size: 12.0pt (16px), font weight: normal). Expected contrast ratio of 4.5:1", "html": "<input id=\"salary-holiday-overtime\" class=\"input w-full px-4 py-3 bg-[var(--surface-1)] border border-[var(--border-light)] rounded-[var(--radius-md)] text-[var(--text-primary)] placeholder:text-[var(--text-muted)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] focus:border-[var(--color-primary)] transition-all duration-[var(--motion-fast)]Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·[39m
    [31m            ltr-num\" type=\"text\" dir=\"ltr\" inputmode=\"numeric\" value=\"0\">", "impact": "serious", "none": [], "target": ["#salary-holiday-overtime"]}, {"all": [], "any": [[Object]], "failureSummary": "Fix any of the following:[39m
    [31m  Element has insufficient color contrast of 1.63 (foreground color: #c2c5cc, background color: #f7f9fc, font size: 12.0pt (16px), font weight: normal). Expected contrast ratio of 4.5:1", "html": "<input id=\"salary-mission-days\" class=\"input w-full px-4 py-3 bg-[var(--surface-1)] border border-[var(--border-light)] rounded-[var(--radius-md)] text-[var(--text-primary)] placeholder:text-[var(--text-muted)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] focus:border-[var(--color-primary)] transition-all duration-[var(--motion-fast)]Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·[39m
    [31m            ltr-num\" type=\"text\" dir=\"ltr\" inputmode=\"numeric\" value=\"0\">", "impact": "serious", "none": [], "target": ["#salary-mission-days"]}, â€¦], "tags": ["cat.color", "wcag2aa", "wcag143", "TTv5", "TT13.c", "EN-301-549", "EN-9.1.4.3", "ACT"]}][39m

      60 |     );
      61 |
    > 62 |     expect(serious, `Serious/critical a11y issues on ${route}`).toHaveLength(0);
         |                                                                 ^
      63 |   });
      64 | });
      65 |
        at /workspace/asdev-persiantoolbox/tests/e2e/a11y.spec.ts:62:65

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/a11y-a11y-serious-critical-violations-salary-chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/a11y-a11y-serious-critical-violations-salary-chromium/video-1.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #3: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/a11y-a11y-serious-critical-violations-salary-chromium/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/a11y-a11y-serious-critical-violations-salary-chromium/error-context.md


[1A[2K[14/94] [chromium] â€º tests/e2e/a11y.spec.ts:51:7 â€º a11y serious/critical violations: /date-tools
[1A[2K[15/94] [chromium] â€º tests/e2e/home.spec.ts:4:7 â€º Home Page â€º should load and display hero section
[1A[2K[16/94] [chromium] â€º tests/e2e/a11y.spec.ts:51:7 â€º a11y serious/critical violations: /pdf-tools/merge/merge-pdf
[1A[2K[17/94] [chromium] â€º tests/e2e/home.spec.ts:15:7 â€º Home Page â€º should navigate to PDF tools
[1A[2K[18/94] [chromium] â€º tests/e2e/home.spec.ts:28:7 â€º Home Page â€º should be mobile responsive
[1A[2K[19/94] [chromium] â€º tests/e2e/a11y.spec.ts:51:7 â€º a11y serious/critical violations: /image-tools
[1A[2K[20/94] [chromium] â€º tests/e2e/home.spec.ts:36:7 â€º Home Page â€º should have proper accessibility
[1A[2K[21/94] [chromium] â€º tests/e2e/offline.spec.ts:51:7 â€º PWA offline â€º should show offline fallback when offline
[1A[2K[22/94] [chromium] â€º tests/e2e/a11y.spec.ts:51:7 â€º a11y serious/critical violations: /offline
[1A[2K[23/94] [chromium] â€º tests/e2e/offline.spec.ts:79:7 â€º PWA offline â€º should cache static assets for offline use
[1A[2K[24/94] [chromium] â€º tests/e2e/routes.spec.ts:17:9 â€º main routes â€º renders /
[1A[2K[25/94] [chromium] â€º tests/e2e/routes.spec.ts:17:9 â€º main routes â€º renders /loan
[1A[2K  2) [chromium] â€º tests/e2e/offline.spec.ts:79:7 â€º PWA offline â€º should cache static assets for offline use 

    [31mTest timeout of 30000ms exceeded.[39m

    Error: browserContext.setOffline: Test timeout of 30000ms exceeded.

       96 |     await expect(page.getByRole('heading', { level: 1 })).toContainText('Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ ØªØ§Ø±ÛŒØ®');
       97 |
    >  98 |     await context.setOffline(false);
          |                   ^
       99 |   });
      100 |
      101 |   test('should handle service worker update flow', async ({ page }) => {
        at /workspace/asdev-persiantoolbox/tests/e2e/offline.spec.ts:98:19

    attachment #1: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/offline-PWA-offline-should-51ae6-atic-assets-for-offline-use-chromium/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/offline-PWA-offline-should-51ae6-atic-assets-for-offline-use-chromium/error-context.md


[1A[2K[26/94] [chromium] â€º tests/e2e/offline.spec.ts:101:7 â€º PWA offline â€º should handle service worker update flow
[1A[2K[27/94] [chromium] â€º tests/e2e/routes.spec.ts:17:9 â€º main routes â€º renders /salary
[1A[2K[28/94] [chromium] â€º tests/e2e/offline.spec.ts:120:7 â€º PWA offline â€º should show offline page for uncached routes
[1A[2K[29/94] [chromium] â€º tests/e2e/routes.spec.ts:17:9 â€º main routes â€º renders /image-tools
[1A[2K[30/94] [chromium] â€º tests/e2e/routes.spec.ts:17:9 â€º main routes â€º renders /pdf-tools
[1A[2K  3) [chromium] â€º tests/e2e/offline.spec.ts:120:7 â€º PWA offline â€º should show offline page for uncached routes 

    Error: [2mexpect([22m[31mlocator[39m[2m).[22mtoBeVisible[2m([22m[2m)[22m failed

    Locator: getByRole('heading', { level: 1 })
    Expected: visible
    Timeout: 5000ms
    Error: element(s) not found

    Call log:
    [2m  - Expect "toBeVisible" with timeout 5000ms[22m
    [2m  - waiting for getByRole('heading', { level: 1 })[22m


      138 |       await expect(offlineHeading).toBeVisible();
      139 |     } else {
    > 140 |       await expect(page.getByRole('heading', { level: 1 })).toBeVisible();
          |                                                             ^
      141 |     }
      142 |
      143 |     await context.setOffline(false);
        at /workspace/asdev-persiantoolbox/tests/e2e/offline.spec.ts:140:61

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/offline-PWA-offline-should-b2844-ne-page-for-uncached-routes-chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/offline-PWA-offline-should-b2844-ne-page-for-uncached-routes-chromium/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€


[1A[2K[31/94] [chromium] â€º tests/e2e/offline.spec.ts:146:7 â€º PWA offline â€º should clear caches when requested
[1A[2K[32/94] [chromium] â€º tests/e2e/routes.spec.ts:17:9 â€º main routes â€º renders /date-tools
[1A[2K[33/94] [chromium] â€º tests/e2e/offline.spec.ts:156:7 â€º PWA offline â€º should show update prompt when service worker reports update
[1A[2K[34/94] [chromium] â€º tests/e2e/routes.spec.ts:17:9 â€º main routes â€º renders /text-tools
[1A[2K[35/94] [chromium] â€º tests/e2e/routes.spec.ts:17:9 â€º main routes â€º renders /validation-tools
[1A[2K[36/94] [chromium] â€º tests/e2e/tools.spec.ts:4:7 â€º Tool flows â€º salary calculator should render form and calculate action
[1A[2K[37/94] [chromium] â€º tests/e2e/routes.spec.ts:17:9 â€º main routes â€º renders /tools
[1A[2K[38/94] [chromium] â€º tests/e2e/tools.spec.ts:14:7 â€º Tool flows â€º date tools conversion should update Gregorian output
[1A[2K[39/94] [firefox] â€º tests/e2e/a11y.spec.ts:51:7 â€º a11y serious/critical violations: /
[1A[2K[40/94] [chromium] â€º tests/e2e/tools.spec.ts:30:7 â€º Tool flows â€º pdf compress page should render primary action
[1A[2K[41/94] [chromium] â€º tests/e2e/tools.spec.ts:36:7 â€º Tool flows â€º pdf split page should render primary action
[1A[2K[42/94] [firefox] â€º tests/e2e/a11y.spec.ts:51:7 â€º a11y serious/critical violations: /loan
[1A[2K[43/94] [chromium] â€º tests/e2e/tools.spec.ts:42:7 â€º Tool flows â€º pdf extract pages page should render primary action
[1A[2K[44/94] [chromium] â€º tests/e2e/tools.spec.ts:48:7 â€º Tool flows â€º pdf delete pages page should render primary action
[1A[2K[45/94] [firefox] â€º tests/e2e/a11y.spec.ts:51:7 â€º a11y serious/critical violations: /salary
[1A[2K[46/94] [chromium] â€º tests/e2e/tools.spec.ts:54:7 â€º Tool flows â€º pdf rotate pages page should render primary action
[1A[2K[47/94] [chromium] â€º tests/e2e/tools.spec.ts:60:7 â€º Tool flows â€º pdf reorder pages page should render primary action
[1A[2K[48/94] [firefox] â€º tests/e2e/a11y.spec.ts:51:7 â€º a11y serious/critical violations: /date-tools
[1A[2K[49/94] [chromium] â€º tests/e2e/tools.spec.ts:66:7 â€º Tool flows â€º pdf merge page should render primary action
[1A[2K[50/94] [chromium] â€º tests/e2e/tools.spec.ts:72:7 â€º Tool flows â€º pdf to image page should render primary action
[1A[2K[51/94] [firefox] â€º tests/e2e/a11y.spec.ts:51:7 â€º a11y serious/critical violations: /pdf-tools/merge/merge-pdf
[1A[2K[52/94] [chromium] â€º tests/e2e/tools.spec.ts:78:7 â€º Tool flows â€º image to pdf page should render primary action
[1A[2K[53/94] [firefox] â€º tests/e2e/a11y.spec.ts:51:7 â€º a11y serious/critical violations: /image-tools
[1A[2K[54/94] [firefox] â€º tests/e2e/account-history-retry.spec.ts:17:7 â€º Retry scenarios for account/history flows â€º account page retries after transient auth/me failure
[1A[2K[55/94] [firefox] â€º tests/e2e/account-history-retry.spec.ts:73:7 â€º Retry scenarios for account/history flows â€º account history retries after transient API failure
[1A[2K[56/94] [firefox] â€º tests/e2e/account-history-retry.spec.ts:139:7 â€º Retry scenarios for account/history flows â€º date-tools recent history retries after transient API failure
[1A[2K[57/94] [firefox] â€º tests/e2e/admin-site-settings.spec.ts:18:7 â€º Admin site settings â€º loads current settings and validates invalid URL payload
[1A[2K[58/94] [firefox] â€º tests/e2e/admin-site-settings.spec.ts:56:7 â€º Admin site settings â€º saves settings and reflects links in footer
[1A[2K[59/94] [firefox] â€º tests/e2e/admin-site-settings.spec.ts:92:7 â€º Admin site settings â€º shows db-unavailable fallback guidance and disables save
[1A[2K[60/94] [firefox] â€º tests/e2e/consent-analytics.spec.ts:4:7 â€º Consent scenarios â€º ads surface is intentionally unavailable in no-login mode
[1A[2K[61/94] [firefox] â€º tests/e2e/a11y.spec.ts:51:7 â€º a11y serious/critical violations: /offline
[1A[2K[62/94] [firefox] â€º tests/e2e/consent-analytics.spec.ts:11:7 â€º Consent scenarios â€º home does not render ad consent controls or ad slots
[1A[2K[63/94] [firefox] â€º tests/e2e/flows-positive.spec.ts:28:7 â€º Happy-path flows â€º PDF merge accepts two files
[1A[2K[64/94] [firefox] â€º tests/e2e/flows-positive.spec.ts:41:7 â€º Happy-path flows â€º Image compress accepts upload file selection
[1A[2K[65/94] [firefox] â€º tests/e2e/home.spec.ts:4:7 â€º Home Page â€º should load and display hero section
[1A[2K[66/94] [firefox] â€º tests/e2e/home.spec.ts:15:7 â€º Home Page â€º should navigate to PDF tools
[1A[2K[67/94] [firefox] â€º tests/e2e/home.spec.ts:28:7 â€º Home Page â€º should be mobile responsive
[1A[2K  4) [firefox] â€º tests/e2e/a11y.spec.ts:51:7 â€º a11y serious/critical violations: /offline â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    [31mTest timeout of 30000ms exceeded.[39m

    Error: page.waitForLoadState: Test timeout of 30000ms exceeded.

      17 |     try {
      18 |       await page.waitForLoadState('domcontentloaded');
    > 19 |       await page.waitForLoadState('networkidle');
         |                  ^
      20 |       await page.waitForTimeout(250);
      21 |       return await new AxeBuilder({ page }).analyze();
      22 |     } catch (error) {
        at analyzeA11yWithRetry (/workspace/asdev-persiantoolbox/tests/e2e/a11y.spec.ts:19:18)
        at /workspace/asdev-persiantoolbox/tests/e2e/a11y.spec.ts:57:21

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/a11y-a11y-serious-critical-violations-offline-firefox/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/a11y-a11y-serious-critical-violations-offline-firefox/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/a11y-a11y-serious-critical-violations-offline-firefox/error-context.md


[1A[2K[68/94] [firefox] â€º tests/e2e/home.spec.ts:36:7 â€º Home Page â€º should have proper accessibility
[1A[2K[69/94] [firefox] â€º tests/e2e/offline.spec.ts:51:7 â€º PWA offline â€º should show offline fallback when offline
[1A[2K[70/94] [firefox] â€º tests/e2e/routes.spec.ts:17:9 â€º main routes â€º renders /
[1A[2K[71/94] [firefox] â€º tests/e2e/routes.spec.ts:17:9 â€º main routes â€º renders /loan
[1A[2K[72/94] [firefox] â€º tests/e2e/routes.spec.ts:17:9 â€º main routes â€º renders /salary
[1A[2K[73/94] [firefox] â€º tests/e2e/routes.spec.ts:17:9 â€º main routes â€º renders /image-tools
[1A[2K  5) [firefox] â€º tests/e2e/offline.spec.ts:51:7 â€º PWA offline â€º should show offline fallback when offline 

    Error: [2mexpect([22m[31mlocator[39m[2m).[22mtoContainText[2m([22m[32mexpected[39m[2m)[22m failed

    Locator: getByRole('heading', { level: 1 })
    Expected pattern: [32m/site can.?t be reached/i[39m
    Received string:  [31m"Ø¯Ø± Ø­Ø§Ù„ Ø­Ø§Ø¶Ø± Ø¢ÙÙ„Ø§ÛŒÙ† Ù‡Ø³ØªÛŒØ¯"[39m
    Timeout: 5000ms

    Call log:
    [2m  - Expect "toContainText" with timeout 5000ms[22m
    [2m  - waiting for getByRole('heading', { level: 1 })[22m
    [2m    - waiting for" http://localhost:3100/offline" navigation to finish...[22m
    [2m    - navigated to "http://localhost:3100/offline"[22m
    [2m    6 Ã— locator resolved to <h1 class="text-3xl font-black text-[var(--text-primary)]">Ø¯Ø± Ø­Ø§Ù„ Ø­Ø§Ø¶Ø± Ø¢ÙÙ„Ø§ÛŒÙ† Ù‡Ø³ØªÛŒØ¯</h1>[22m
    [2m      - unexpected value "Ø¯Ø± Ø­Ø§Ù„ Ø­Ø§Ø¶Ø± Ø¢ÙÙ„Ø§ÛŒÙ† Ù‡Ø³ØªÛŒØ¯"[22m


      69 |       await expect(clearCache).toBeVisible();
      70 |     } else {
    > 71 |       await expect(page.getByRole('heading', { level: 1 })).toContainText(
         |                                                             ^
      72 |         /site can.?t be reached/i,
      73 |       );
      74 |     }
        at /workspace/asdev-persiantoolbox/tests/e2e/offline.spec.ts:71:61

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/offline-PWA-offline-should-4bf90-fline-fallback-when-offline-firefox/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/offline-PWA-offline-should-4bf90-fline-fallback-when-offline-firefox/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/offline-PWA-offline-should-4bf90-fline-fallback-when-offline-firefox/error-context.md


[1A[2K[74/94] [firefox] â€º tests/e2e/offline.spec.ts:79:7 â€º PWA offline â€º should cache static assets for offline use
[1A[2K[75/94] [firefox] â€º tests/e2e/routes.spec.ts:17:9 â€º main routes â€º renders /pdf-tools
[1A[2K[76/94] [firefox] â€º tests/e2e/routes.spec.ts:17:9 â€º main routes â€º renders /date-tools
[1A[2K[77/94] [firefox] â€º tests/e2e/routes.spec.ts:17:9 â€º main routes â€º renders /text-tools
[1A[2K[78/94] [firefox] â€º tests/e2e/routes.spec.ts:17:9 â€º main routes â€º renders /validation-tools
[1A[2K[79/94] [firefox] â€º tests/e2e/offline.spec.ts:101:7 â€º PWA offline â€º should handle service worker update flow
[1A[2K[80/94] [firefox] â€º tests/e2e/routes.spec.ts:17:9 â€º main routes â€º renders /tools
[1A[2K[81/94] [firefox] â€º tests/e2e/tools.spec.ts:4:7 â€º Tool flows â€º salary calculator should render form and calculate action
[1A[2K[82/94] [firefox] â€º tests/e2e/offline.spec.ts:120:7 â€º PWA offline â€º should show offline page for uncached routes
[1A[2K[83/94] [firefox] â€º tests/e2e/tools.spec.ts:14:7 â€º Tool flows â€º date tools conversion should update Gregorian output
[1A[2K[84/94] [firefox] â€º tests/e2e/offline.spec.ts:146:7 â€º PWA offline â€º should clear caches when requested
[1A[2K[85/94] [firefox] â€º tests/e2e/tools.spec.ts:30:7 â€º Tool flows â€º pdf compress page should render primary action
[1A[2K[86/94] [firefox] â€º tests/e2e/offline.spec.ts:156:7 â€º PWA offline â€º should show update prompt when service worker reports update
[1A[2K[87/94] [firefox] â€º tests/e2e/tools.spec.ts:36:7 â€º Tool flows â€º pdf split page should render primary action
[1A[2K[88/94] [firefox] â€º tests/e2e/tools.spec.ts:42:7 â€º Tool flows â€º pdf extract pages page should render primary action
[1A[2K[89/94] [firefox] â€º tests/e2e/tools.spec.ts:48:7 â€º Tool flows â€º pdf delete pages page should render primary action
[1A[2K[90/94] [firefox] â€º tests/e2e/tools.spec.ts:54:7 â€º Tool flows â€º pdf rotate pages page should render primary action
[1A[2K[91/94] [firefox] â€º tests/e2e/tools.spec.ts:60:7 â€º Tool flows â€º pdf reorder pages page should render primary action
[1A[2K[92/94] [firefox] â€º tests/e2e/tools.spec.ts:66:7 â€º Tool flows â€º pdf merge page should render primary action
[1A[2K[93/94] [firefox] â€º tests/e2e/tools.spec.ts:72:7 â€º Tool flows â€º pdf to image page should render primary action
[1A[2K[94/94] [firefox] â€º tests/e2e/tools.spec.ts:78:7 â€º Tool flows â€º image to pdf page should render primary action
[1A[2K  5 failed
    [chromium] â€º tests/e2e/a11y.spec.ts:51:7 â€º a11y serious/critical violations: /salary â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    [chromium] â€º tests/e2e/offline.spec.ts:79:7 â€º PWA offline â€º should cache static assets for offline use 
    [chromium] â€º tests/e2e/offline.spec.ts:120:7 â€º PWA offline â€º should show offline page for uncached routes 
    [firefox] â€º tests/e2e/a11y.spec.ts:51:7 â€º a11y serious/critical violations: /offline â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    [firefox] â€º tests/e2e/offline.spec.ts:51:7 â€º PWA offline â€º should show offline fallback when offline 
  12 skipped
  77 passed (10.3m)
â€‰ELIFECYCLEâ€‰ Command failed with exit code 1.
