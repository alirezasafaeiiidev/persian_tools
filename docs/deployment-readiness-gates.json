{
  "version": 1,
  "requiredEnv": {
    "production": [
      "NEXT_PUBLIC_SITE_URL",
      "DATABASE_URL",
      "SESSION_TTL_DAYS",
      "SUBSCRIPTION_WEBHOOK_SECRET",
      "ADMIN_EMAIL_ALLOWLIST"
    ],
    "optional": [
      "NEXT_PUBLIC_ANALYTICS_ID",
      "NEXT_PUBLIC_ANALYTICS_ENDPOINT",
      "ANALYTICS_DATA_DIR",
      "ANALYTICS_INGEST_SECRET"
    ]
  },
  "securityGates": [
    "csp_headers_verified",
    "hsts_enabled",
    "consent_gate_enforced",
    "admin_authz_verified"
  ],
  "pwaGates": ["cache_version_validated", "offline_flow_verified"],
  "qualityGates": [
    {
      "id": "quality_ci_quick",
      "command": "pnpm ci:quick",
      "tier": "core",
      "blocking": true
    },
    {
      "id": "quality_build",
      "command": "pnpm build",
      "tier": "core",
      "blocking": true
    },
    {
      "id": "quality_sw_contract",
      "command": "pnpm pwa:sw:validate",
      "tier": "core",
      "blocking": true
    },
    {
      "id": "quality_e2e_ci",
      "command": "pnpm test:e2e:ci",
      "tier": "extended",
      "blocking": true
    },
    {
      "id": "quality_lighthouse_ci",
      "command": "pnpm lighthouse:ci",
      "tier": "extended",
      "blocking": false
    }
  ],
  "releaseGates": [
    "deploy_readiness_artifact_signed",
    "rollback_strategy_verified",
    "release_candidate_tagged"
  ]
}
